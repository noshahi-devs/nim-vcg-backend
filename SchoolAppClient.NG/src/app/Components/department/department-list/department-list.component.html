<div class="container">
  <h2>Department List</h2>
  <a class="btn btn-success mb-3" routerLink="/departments/create">Create Department</a>

  <!-- Search Box -->
  <div class="form-group mb-3">
    <input type="text" class="form-control short-input" placeholder="Search by Name" [(ngModel)]="searchName">
  </div>

  <!-- Simple Table -->
  <table class="table table-bordered table-striped">
    <thead class="table-dark">
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th style="width: 180px;">Action</th>
      </tr>
    </thead>
    <tbody>
      <!-- Filter by searchName -->
      <tr *ngFor="let dept of departments">
        <td>{{ dept.departmentId }}</td>
        <td>{{ dept.departmentName }}</td>
        <td>
          <a class="btn btn-primary btn-sm" [routerLink]="['/departments', dept.departmentId, 'edit']">Edit</a>
          <button class="btn btn-danger btn-sm" (click)="confirmDelete(dept.departmentId)">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<!-- Confirmation Dialog -->
<div class="confirmation-popup" *ngIf="confirmationDialogVisible">
  <div class="confirmation-dialog">
    <app-confirmation-dialog [title]="'Confirmation'"
                             [message]="'Are you sure you want to delete this Department?'">
    </app-confirmation-dialog>
    <button class="btn btn-danger" (click)="deleteDepartment()">Confirm Delete</button>
    <button class="btn btn-secondary" (click)="closeConfirmationDialog()">Cancel</button>
  </div>
</div>

















<!-- <div class="container">
  <h2>Department List</h2>
  <a class="btn btn-success" routerLink="/departments/create">Create Department</a>
  <div class="form-group">
    <input type="text" class="form-control short-input" placeholder="Search by Name" [(ngModel)]="searchName">
  </div>
  <ejs-grid #grid [dataSource]="departments" [allowPaging]="true" [pageSettings]="pageSettings"
            [filterSettings]="filterSettings" [searchSettings]="searchSettings">
    <e-columns>
      <e-column field="departmentId" headerText="ID" width="100"></e-column>
      <e-column field="departmentName" headerText="Name" width="200"></e-column>
      <e-column headerText="Action" width="150">
        <ng-template #template let-data>
          <a class="btn btn-primary" [routerLink]="['/departments', data.departmentId, 'edit']">Edit</a>
          <button class="btn btn-danger" (click)="confirmDelete(data.departmentId)">Delete</button>
        </ng-template>
      </e-column>
    </e-columns>
  </ejs-grid>
</div>
<div class="confirmation-popup" *ngIf="confirmationDialogVisible">
  <div class="confirmation-dialog">
    <app-confirmation-dialog [title]="'Confirmation'"
                             [message]="'Are you sure you want to delete this Department?'"></app-confirmation-dialog>
    <button class="btn btn-danger" (click)="deleteDepartment()">Confirm Delete</button>
    <button class="btn btn-secondary" (click)="closeConfirmationDialog()">Cancel</button>
  </div>
</div> -->
